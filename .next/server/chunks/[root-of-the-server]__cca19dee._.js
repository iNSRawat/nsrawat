module.exports=[174599,(e,t,r)=>{t.exports=e.x("sharp-7e7f51627ba73241",()=>require("sharp-7e7f51627ba73241"))},144909,(e,t,r)=>{var n,i;"undefined"!=typeof self?self:e.e,n={20:(e,t,r)=>{var n=r(595);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},110:(e,t,r)=>{var n=r(871).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},136:function(e,t,r){var n,i,a;"undefined"!=typeof globalThis||"undefined"!=typeof self&&self,i=[t,r(704)],void 0===(a="function"==typeof(n=function(e,t){"use strict";var n=r(957);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=(t=n(t)).default})?n.apply(t,i):n)||(e.exports=a)},215:function(e,t){var r,n;"undefined"!=typeof globalThis||"undefined"!=typeof self&&self,void 0===(n="function"==typeof(r=function(e){"use strict";var t,r;Object.defineProperty(e,"__esModule",{value:!0}),e.MIME_TYPES=e.Formats=e.DEFAULT_MIME_TYPE=e.DEFAULT_FORMAT=e.DEFAULT_FILENAME=e.DEFAULT_EXTENSION=e.DEFAULT_CONTENT_TYPE=e.DEFAULT_CHARACTER_SET=e.ContentTypes=e.ALLOWED_MULTIPLE_PROPERTIES=void 0;let n=((t={}).VCALENDAR="text/x-vcalendar",t.VCARD="text/x-vcard",e.ContentTypes=t),i=((r={}).VCALENDAR="vcalendar",r.VCARD="vcard",e.Formats=r);e.ALLOWED_MULTIPLE_PROPERTIES=["address","email","phoneNumber","social","url"],e.DEFAULT_CHARACTER_SET="utf-8",e.DEFAULT_CONTENT_TYPE=n.VCARD,e.DEFAULT_EXTENSION="vcf",e.DEFAULT_FILENAME="vcard",e.DEFAULT_FORMAT=i.VCARD,e.DEFAULT_MIME_TYPE="JPEG",e.MIME_TYPES=["aces","avci","avcs","avif","bmp","cgm","dicom-rle","emf","example","fits","g3fax","gif","heic","heic-sequence","heif","heif-sequence","hej2k","hsj2","ief","jls","jp2","jpeg","jph","jphc","jpm","jpx","jxr","jxrA","jxrS","jxs","jxsc","jxsi","jxss","ktx","ktx2","naplps","png","prs.btif","prs.pti","pwg-raster","svg+xml","t38","tiff","tiff-fx","vnd.adobe.photoshop","vnd.airzip.accelerator.azv","vnd.cns.inf2","vnd.dece.graphic","vnd.djvu","vnd.dwg","vnd.dxf","vnd.dvb.subtitle","vnd.fastbidsheet","vnd.fpx","vnd.fst","vnd.fujixerox.edmics-mmr","vnd.fujixerox.edmics-rlc","vnd.globalgraphics.pgb","vnd.microsoft.icon","vnd.mix","vnd.ms-modi","vnd.mozilla.apng","vnd.net-fpx","vnd.pco.b16","vnd.radiance","vnd.sealed.png","vnd.sealedmedia.softseal.gif","vnd.sealedmedia.softseal.jpg","vnd.svf","vnd.tencent.tap","vnd.valve.source.texture","vnd.wap.wbmp","vnd.xiff","vnd.zbrush.pcx","wmf","x-emf","x-wmf"]})?r.apply(t,[t]):r)||(e.exports=n)},443:function(e,t){var r,n;"undefined"!=typeof globalThis||"undefined"!=typeof self&&self,void 0===(n="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class t extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,t),this.name="VCardException"}}e.default=t})?r.apply(t,[t]):r)||(e.exports=n)},595:(e,t,r)=>{var n=r(871).default,i=r(110);e.exports=function(e){var t=i(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},704:function(e,t,r){var n,i;"undefined"!=typeof globalThis||"undefined"!=typeof self&&self,n=[t,r(20),r(443),r(979),r(215)],void 0===(i=(function(e,t,n,i,a){"use strict";var o=r(957);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=o(t),n=o(n),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&({}).hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(a),e.default=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.DEFAULT_FORMAT;(0,t.default)(this,"charset",a.DEFAULT_CHARACTER_SET),(0,t.default)(this,"contentType",a.DEFAULT_CONTENT_TYPE),(0,t.default)(this,"filename",a.DEFAULT_FILENAME),(0,t.default)(this,"fileExtension",a.DEFAULT_EXTENSION),(0,t.default)(this,"properties",[]),(0,t.default)(this,"definedElements",{}),(0,t.default)(this,"multiplePropertiesForElementAllowed",a.ALLOWED_MULTIPLE_PROPERTIES),(0,t.default)(this,"useVCalendar",!1),e===a.Formats.VCALENDAR&&this.setFormat(e)}setFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.DEFAULT_FORMAT;e===a.Formats.VCALENDAR?(console.warn("The format 'vcalendar' is deprecated and will be removed in the next major or minor release. Use 'vcard' instead."),this.contentType=a.ContentTypes.VCALENDAR,this.useVCalendar=!0):e===a.Formats.VCARD&&(this.contentType=a.ContentTypes.VCARD,this.useVCalendar=!1)}addAddress(){let e=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"WORK;POSTAL",t=`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""};${arguments.length>1&&void 0!==arguments[1]?arguments[1]:""};${arguments.length>2&&void 0!==arguments[2]?arguments[2]:""};${arguments.length>3&&void 0!==arguments[3]?arguments[3]:""};${arguments.length>4&&void 0!==arguments[4]?arguments[4]:""};${arguments.length>5&&void 0!==arguments[5]?arguments[5]:""};${arguments.length>6&&void 0!==arguments[6]?arguments[6]:""}`;return this.setProperty("address",`ADR${""!==e?`;${e}`:""}${this.getCharsetString()}`,t),this}addBirthday(e){return this.setProperty("birthday","BDAY",e),this}addCompany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.setProperty("company",`ORG${this.getCharsetString()}`,e+(""!==t?`;${t}`:"")),this}addEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.setProperty("email","EMAIL;INTERNET"+(""!==t?`;${t}`:""),e),this}addJobtitle(e){return this.setProperty("jobtitle",`TITLE${this.getCharsetString()}`,e),this}addRole(e){return this.setProperty("role",`ROLE${this.getCharsetString()}`,e),this}addMediaURL(e,t,r){return this.setProperty(r,`${e};VALUE=uri`,t),this}addMediaContent(e,t,r,a){if(!(0,i.isValidMimeType)(r))throw new n.default(`The MIME Media Type is invalid (${r})`);return this.setProperty(a,`${e};ENCODING=b;TYPE=${r.toUpperCase()}`,t),this}addName(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=[n,t,r,e,i].filter(e=>!!e),o=`${e};${t};${r};${n};${i}`;return this.setProperty("name",`N${this.getCharsetString()}`,o),this.hasProperty("FN")||this.setProperty("fullname",`FN${this.getCharsetString()}`,a.join(" ").trim()),this}addNickname(e){return this.setProperty("nickname","NICKNAME",Array.isArray(e)?e.join(",").trim():e),this}addNote(e){return this.setProperty("note",`NOTE${this.getCharsetString()}`,e),this}addCategories(e){return this.setProperty("categories",`CATEGORIES${this.getCharsetString()}`,e.join(",").trim()),this}addPhoneNumber(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.setProperty("phoneNumber","TEL"+(""!==t?`;${t}`:""),`${e}`),this}addLogoURL(e){return this.addMediaURL("LOGO",e,"logo"),this}addLogo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.DEFAULT_MIME_TYPE;return this.addMediaContent("LOGO",e,t,"logo"),this}addPhotoURL(e){return this.addMediaURL("PHOTO",e,"photo"),this}addPhoto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.DEFAULT_MIME_TYPE;return this.addMediaContent("PHOTO",e,t,"photo"),this}addURL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.setProperty("url","URL"+(""!==t?`;${t}`:""),e),this}addSocial(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=""!==r?`;x-user=${r}`:"",i=""!==t?`;type=${t}`:"";return this.setProperty("social",`X-SOCIALPROFILE${i}${n}`,e),this}addUID(e){return this.setProperty("uid","UID",e),this}buildVCard(){let e=new Date,t="";return t+="BEGIN:VCARD\r\n",t+="VERSION:3.0\r\n",t+=`REV:${e.toISOString()}\r
`,this.getProperties().forEach(e=>{t+=(0,i.fold)(`${e.key}:${(0,i.escape)(e.value)}\r
`)}),t+="END:VCARD\r\n"}buildVCalendar(){console.warn("The method 'buildVCalendar' is deprecated and will be removed in the next major or minor release. Use 'buildVCard' instead.");let e=(new Date).toISOString().replace(/-/g,"").replace(/:/g,"").substring(0,13),t=`${e}00`,r=`${e}01`,n=(0,i.b64encode)(this.buildVCard()),a=(0,i.chunkSplit)(n,74,"\n").replace(/(.+)/g," $1");return`BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
DTSTART;TZID=Europe/London:${t}
DTEND;TZID=Europe/London:${r}
SUMMARY:Click the attachment to save to your contacts
DTSTAMP:${t}Z
ATTACH;VALUE=BINARY;ENCODING=BASE64;FMTTYPE=text/directory;
 X-APPLE-FILENAME=${this.getFilename()}.${this.getFileExtension()}:
${a}END:VEVENT
END:VCALENDAR
`}toString(){return this.getOutput()}getCharset(){return this.charset}getCharsetString(){let e="";return this.charset===a.DEFAULT_CHARACTER_SET&&(e=`;CHARSET=${this.charset}`),e}getContentType(){return this.contentType}getFilename(){return this.filename}getFileExtension(){return this.fileExtension}getOutput(){return this.useVCalendar?this.buildVCalendar():this.buildVCard()}getProperties(){return this.properties}hasProperty(e){return this.getProperties().some(t=>t.key===e&&""!==t.value)}setCharset(e){this.charset=e}setFilename(e){e&&(this.filename=e)}setProperty(e,t,r){if(!this.multiplePropertiesForElementAllowed.includes(e)&&this.definedElements[e])throw new n.default(`This element already exists (${e})`);this.definedElements[e]=!0,this.properties.push({key:t,value:r})}}}).apply(t,n))||(e.exports=i)},871:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},957:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},979:function(e,t,r){var n,i;"undefined"!=typeof globalThis||"undefined"!=typeof self&&self,n=[t,r(215)],void 0===(i=(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.b64encode=function(e){try{return btoa(e)}catch{return Buffer.from(e).toString("base64")}},e.chunkSplit=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:76,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\r\n")||"\r\n";if(t<1)return"";let n=e.match(RegExp(`.{0,${t||76}}`,"g"));return n?n.join(r):""},e.escape=function(e){return`${e}`.replace(/\r\n/g,"\\n").replace(/\n/g,"\\n")},e.fold=function(e){return e.length<=75?e:`${(e.match(/.{1,73}/g)||[]).join("\r\n ").trim()}\r
`},e.isValidMimeType=function(e){return!(!e||!t.MIME_TYPES.includes(e.toLowerCase()))}}).apply(t,n))||(e.exports=i)}},i={},t.exports=function e(t){var r=i[t];if(void 0!==r)return r.exports;var a=i[t]={exports:{}};return n[t].call(a.exports,a,a.exports,e),a.exports}(136)},795798,e=>{"use strict";var t=e.i(817096),r=e.i(539821),n=e.i(702406),i=e.i(74580),a=e.i(503546),o=e.i(404581),s=e.i(815513),d=e.i(801923),l=e.i(847860),u=e.i(215708),p=e.i(827829),c=e.i(410126),h=e.i(650241),f=e.i(385141),E=e.i(624586),v=e.i(193695);e.i(941002);var g=e.i(558483),m=e.i(882345),T=e.i(174599),y=e.i(144909),R=e.i(790091);async function A(){let e=new y.default;e.addName(R.USER.lastName,R.USER.firstName).addPhoneNumber(atob(R.USER.phoneNumber)).addAddress(R.USER.address).addEmail(atob(R.USER.email)).addURL(R.USER.website);let t=await x(R.USER.avatar);if(t&&e.addPhoto(t.image,t.mine),R.USER.jobs.length>0){let t=R.USER.jobs[0];e.addCompany(t.company).addJobtitle(t.title)}return new m.NextResponse(e.toString(),{status:200,headers:{"Content-Type":"text/x-vcard","Content-Disposition":`attachment; filename=${R.USER.username}-vcard.vcf`}})}async function x(e){try{let t=await fetch(e);if(!t.ok)return null;let r=Buffer.from(await t.arrayBuffer());if(0===r.length||!(t.headers.get("Content-Type")||"").startsWith("image/"))return null;return{image:(await C(r)).toString("base64"),mine:"jpeg"}}catch{return null}}async function C(e){try{return await (0,T.default)(e).jpeg({quality:90,progressive:!0,mozjpeg:!0}).toBuffer()}catch(e){throw console.error("Error converting image to JPEG:",e),e}}e.i(735875).default,e.s(["GET",()=>A,"dynamic",0,"force-static"],566300);var P=e.i(566300);let b=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/vcard/route",pathname:"/vcard",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/vcard/route.ts",nextConfigOutput:"",userland:P}),{workAsyncStorage:_,workUnitAsyncStorage:N,serverHooks:S}=b;function L(){return(0,n.patchFetch)({workAsyncStorage:_,workUnitAsyncStorage:N})}async function O(e,t,n){b.isDev&&(0,i.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let m="/vcard/route";m=m.replace(/\/index$/,"")||"/";let T=await b.prepare(e,t,{srcPage:m,multiZoneDraftMode:!1});if(!T)return t.statusCode=400,t.end("Bad Request"),null==n.waitUntil||n.waitUntil.call(n,Promise.resolve()),null;let{buildId:y,params:R,nextConfig:A,parsedUrl:x,isDraftMode:C,prerenderManifest:P,routerServerContext:_,isOnDemandRevalidate:N,revalidateOnlyGenerated:S,resolvedPathname:L,clientReferenceManifest:O,serverActionsManifest:D}=T,w=(0,s.normalizeAppPath)(m),M=!!(P.dynamicRoutes[w]||P.routes[L]),U=async()=>((null==_?void 0:_.render404)?await _.render404(e,t,x,!1):t.end("This page could not be found"),null);if(M&&!C){let e=!!P.routes[L],t=P.dynamicRoutes[w];if(t&&!1===t.fallback&&!e){if(A.experimental.adapterPath)return await U();throw new v.NoFallbackError}}let $=null;!M||b.isDev||C||($="/index"===($=L)?"/":$);let I=!0===b.isDev||!M,F=M&&!I;D&&O&&(0,o.setManifestsSingleton)({page:m,clientReferenceManifest:O,serverActionsManifest:D});let j=e.method||"GET",V=(0,a.getTracer)(),k=V.getActiveScopeSpan(),H={params:R,prerenderManifest:P,renderOpts:{experimental:{authInterrupts:!!A.experimental.authInterrupts},cacheComponents:!!A.cacheComponents,supportsDynamicResponse:I,incrementalCache:(0,i.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:A.cacheLife,waitUntil:n.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,n,i)=>b.onRequestError(e,t,n,i,_)},sharedContext:{buildId:y}},q=new d.NodeNextRequest(e),B=new d.NodeNextResponse(t),G=l.NextRequestAdapter.fromNodeNextRequest(q,(0,l.signalFromNodeResponse)(t));try{let o=async e=>b.handle(G,H).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=V.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=r.get("next.route");if(n){let t=`${j} ${n}`;e.setAttributes({"next.route":n,"http.route":n,"next.span_name":t}),e.updateName(t)}else e.updateName(`${j} ${m}`)}),s=!!(0,i.getRequestMeta)(e,"minimalMode"),d=async i=>{var a,d;let l=async({previousCacheEntry:r})=>{try{if(!s&&N&&S&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let a=await o(i);e.fetchMetrics=H.renderOpts.fetchMetrics;let d=H.renderOpts.pendingWaitUntil;d&&n.waitUntil&&(n.waitUntil(d),d=void 0);let l=H.renderOpts.collectedTags;if(!M)return await (0,c.sendResponse)(q,B,a,H.renderOpts.pendingWaitUntil),null;{let e=await a.blob(),t=(0,h.toNodeOutgoingHttpHeaders)(a.headers);l&&(t[E.NEXT_CACHE_TAGS_HEADER]=l),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==H.renderOpts.collectedRevalidate&&!(H.renderOpts.collectedRevalidate>=E.INFINITE_CACHE)&&H.renderOpts.collectedRevalidate,n=void 0===H.renderOpts.collectedExpire||H.renderOpts.collectedExpire>=E.INFINITE_CACHE?void 0:H.renderOpts.collectedExpire;return{value:{kind:g.CachedRouteKind.APP_ROUTE,status:a.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:n}}}}catch(t){throw(null==r?void 0:r.isStale)&&await b.onRequestError(e,t,{routerKind:"App Router",routePath:m,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:F,isOnDemandRevalidate:N})},!1,_),t}},u=await b.handleResponse({req:e,nextConfig:A,cacheKey:$,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:P,isRoutePPREnabled:!1,isOnDemandRevalidate:N,revalidateOnlyGenerated:S,responseGenerator:l,waitUntil:n.waitUntil,isMinimalMode:s});if(!M)return null;if((null==u||null==(a=u.value)?void 0:a.kind)!==g.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==u||null==(d=u.value)?void 0:d.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||t.setHeader("x-nextjs-cache",N?"REVALIDATED":u.isMiss?"MISS":u.isStale?"STALE":"HIT"),C&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let v=(0,h.fromNodeOutgoingHttpHeaders)(u.value.headers);return s&&M||v.delete(E.NEXT_CACHE_TAGS_HEADER),!u.cacheControl||t.getHeader("Cache-Control")||v.get("Cache-Control")||v.set("Cache-Control",(0,f.getCacheControlHeader)(u.cacheControl)),await (0,c.sendResponse)(q,B,new Response(u.value.body,{headers:v,status:u.value.status||200})),null};k?await d(k):await V.withPropagatedContext(e.headers,()=>V.trace(u.BaseServerSpan.handleRequest,{spanName:`${j} ${m}`,kind:a.SpanKind.SERVER,attributes:{"http.method":j,"http.target":e.url}},d))}catch(t){if(t instanceof v.NoFallbackError||await b.onRequestError(e,t,{routerKind:"App Router",routePath:w,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:F,isOnDemandRevalidate:N})},!1,_),M)throw t;return await (0,c.sendResponse)(q,B,new Response(null,{status:500})),null}}e.s(["handler",()=>O,"patchFetch",()=>L,"routeModule",()=>b,"serverHooks",()=>S,"workAsyncStorage",()=>_,"workUnitAsyncStorage",()=>N],795798)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__cca19dee._.js.map